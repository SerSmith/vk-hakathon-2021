# Отборочный этап
# Задача
По заданному графу пользователей и их существующих дружб, для каждого пользователя предскажите не больше десяти пользователей с бОльшим ID, с которыми этот пользователь подружится в ближайшее время. Евгений Замятин рассказывал на Хабре о способах рекомендаций друзей, реализованных ВКонтакте. А теперь вы можете попробовать свои силы на задаче, подготовленной командой Core ML VK.

Вам дан анонимизированный граф дружб некоторых пользователей ВКонтакте. Пользователи заданы целочисленными номерами. В файле train.csv описаны дружбы пользователей в формате u, v, t, h, где:

u — меньший из номеров дружащих пользователей;
v — больший из номеров;
t — время, прошедшее с момента дружбы в условных единицах (0 — дружба появилась недавно, 99 — давно);
h — активность взаимодействия между пользователями (0 — минимальное взаимодействие, 9 — максимальное).
Выпишите множество предсказаний дружб, которые появятся в ближайшее время. Для каждого пользователя перечислите не больше 10 вариантов дружб с пользователями с большим ID, чем ID текущего пользователя. А мы сравним, добавил ли человек этих пользователей в друзья реально. Предсказания не нужно ранжировать. Внимательно посмотрите на формат baseline решения baseline.txt и придерживайтесь его в ваших решениях: в каждой строке сначала идёт номер пользователя, потом двоеточие, потом до десяти разделенных запятыми предсказаний дружб с пользователями с большим номером.

Для обучения мы предложим вам реальные добавления в друзья, произошедшие после выгрузки данных train.csv, среди пользователей с чётными ID. Ваше решение будет оцениваться по метрике recall — количеству попаданий в реальный список добавлений в друзья. Вам нужно для пользователей с ID, дающими остаток 1 при делении на 8 предсказать дружбы с пользователями с нечетными ID. Баллы, набранные вашим решением по ходу раунда, будут окончательными. Решение не будет запускаться на другом наборе данных.

Обратите внимание, что размер разархивированного решения данной задачи должен быть не больше 32 MB.
# Подход
Для прохождения в следующий этап достаточно попасть в топ 255 участниов, соответственно делать слишком сложное решение нецелесообразно. Пусть нашим скором будет взвешенная сумма по всем друзьям друзей пользователя, где вес для кандидата в друзья j будет равен np.sqrt(np.log(активность взаимодействия с другом i)) * np.sqrt(np.log(friends_of_friends[активность взаимодействия друга i с его другом j])).